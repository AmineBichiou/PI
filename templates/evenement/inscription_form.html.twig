<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inscription à l'événement</title>

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link
      href="{{ asset('fruitables-1.0.0/lib/lightbox/css/lightbox.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ asset('fruitables-1.0.0/lib/owlcarousel/assets/owl.carousel.min.css') }}"
      rel="stylesheet"
    />

    <!-- Custom Stylesheet -->
    <link
      href="{{ asset('fruitables-1.0.0/css/bootstrap.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ asset('fruitables-1.0.0/css/style.css') }}"
      rel="stylesheet"
    />

    <style>
      /* Amélioration de l'affichage du formulaire */
      .form-label {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .form-control {
        border-radius: 0.375rem;
      }
      .form-check-input {
        margin-right: 10px;
      }

      /* Style pour les boutons horizontaux du rôle */
      .form-check-inline {
        display: inline-block;
        margin-right: 15px;
      }

      /* Centrer le bouton "S'inscrire avec mon compte" */
      .center-button {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }

      /* Espacement pour le bouton "S'inscrire" */
      .inscription-btn {
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <!-- Navbar Start -->
    <div class="container px-0">
      <nav class="navbar navbar-light bg-white navbar-expand-xl">
        <a href="{{ path('app_home') }}" class="navbar-brand">
          <img src="{{ asset('images/logofront.png') }}" alt="Logo" />
        </a>
        <button
          class="navbar-toggler py-2 px-3"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
        >
          <span class="fa fa-bars text-primary"></span>
        </button>
        <div class="collapse navbar-collapse bg-white" id="navbarCollapse">
          <div class="navbar-nav mx-auto">
            <a href="{{ path('app_home') }}" class="nav-item nav-link active"
              >Home</a
            >
            <a href="{{ path('shop_produits') }}" class="nav-item nav-link"
              >Shop</a
            >
            <a href="{{ path('shopdetails') }}" class="nav-item nav-link"
              >Shop Detail</a
            >
            <div class="nav-item dropdown">
              <a
                href="#"
                class="nav-link dropdown-toggle"
                data-bs-toggle="dropdown"
                >Pages</a
              >
              <div class="dropdown-menu m-0 bg-secondary rounded-0">
                <a href="{{ path('mon_panier') }}" class="dropdown-item"
                  >Panier</a
                >
                <a
                  href="{{ path('historique_commandes') }}"
                  class="dropdown-item"
                  >Historique des Commandes</a
                >
                <a href="{{ path('reclamation_showA') }}" class="dropdown-item"
                  >Community</a
                >
                <a href="{{ path('testimonial') }}" class="dropdown-item"
                  >Reviews</a
                >
              </div>
            </div>
            <a
              href="{{ path('app_evenements_liste') }}"
              class="nav-item nav-link"
              >Events</a
            >
          </div>
          <a href="#" class="my-auto">
            <i class="fas fa-user fa-2x"></i>
          </a>
        </div>
      </nav>
    </div>
    <!-- Navbar End -->

    <!-- Single Page Header Start -->
    <div class="container-fluid page-header py-5">
      <h1 class="text-center text-white display-6">
        Inscription à l'événement
      </h1>
    </div>
    <!-- Single Page Header End -->

    <!-- Inscription Form Start -->
    <div class="container-fluid py-5">
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <h2 class="text-center mb-4">
              Inscription à l'événement : {{ evenement.titre }}
            </h2>
            <div class="card p-4">
              {# Affiche un message si l'utilisateur est connecté #} 
              {% if user %}
              <div class="mb-3">
                <p>
                  Vous êtes connecté en tant que
                  <strong>{{ user.nom }} {{ user.prenom }}</strong
                  >.
                </p>
                <div class="center-button">
                  <a
                    href="{{ path('app_evenement_inscription_form', {id: evenement.id}) }}"
                    class="btn btn-primary"
                  >
                    S'inscrire avec mon compte
                  </a>
                </div>
              </div>
              {% else %}
              <p>
                Vous n'êtes pas connecté. Veuillez remplir les champs ci-dessous
                pour vous inscrire.
              </p>
              {% endif %}
              {# Début du formulaire #}
              {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
              {# Affiche les champs du formulaire si l'utilisateur n'est pas connecté #} 
              {% if not user %}
              <div class="mb-3">
                {{ form_label(form.nom, 'Nom', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.nom, {'attr': {'class': 'form-control', 'placeholder': 'Entrez votre nom'}}) }}
                {{ form_errors(form.nom) }}
              </div>
              <div class="mb-3">
                {{ form_label(form.prenom, 'Prénom', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.prenom, {'attr': {'class': 'form-control', 'placeholder': 'Entrez votre prénom'}}) }}
                {{ form_errors(form.prenom) }}
              </div>
              <div class="mb-3">
                {{ form_label(form.email, 'Email', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Entrez votre email'}}) }}
                {{ form_errors(form.email) }}
              </div>
              <div class="mb-3">
                {{ form_label(form.num_tel, 'Numéro de téléphone', {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.num_tel, {'attr': {'class': 'form-control', 'placeholder': 'Entrez votre numéro de téléphone'}}) }}
                {{ form_errors(form.num_tel) }}
              </div>
              {% endif %}
              {# Champ "Travail" (anciennement "Rôle") #}
              <div class="mb-3">
                {{ form_label(form.travail, 'Travail', {'label_attr': {'class': 'form-label'}}) }}
                <div class="form-check-inline">
                  {{ form_widget(form.travail, {'attr': {'class': 'form-check-input'}}) }}
                </div>
                {{ form_errors(form.travail) }}
              </div>

              {# Bouton de soumission #}
              <div class="text-center inscription-btn">
                <button type="submit" class="btn btn-primary">
                  S'inscrire
                </button>
              </div>

              {# Fin du formulaire #}
              {{ form_end(form) }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Inscription Form End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 footer pt-5 mt-5">
      <div class="container py-5">
        <div
          class="pb-4 mb-4"
          style="border-bottom: 1px solid rgba(226, 175, 24, 0.5)"
        >
          <div class="row g-4">
            <div class="col-lg-6">
              <a href="#">
                <h1 class="text-primary mb-0">AGRIPLANNER</h1>
                <p class="text-secondary mb-0">
                  L'agriculture intelligente commence ici
                </p>
              </a>
            </div>
            <div class="col-lg-6">
              <div class="d-flex justify-content-end pt-3">
                <a
                  class="btn btn-outline-secondary me-2 btn-md-square rounded-circle"
                  href="#"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a
                  class="btn btn-outline-secondary me-2 btn-md-square rounded-circle"
                  href="#"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a
                  class="btn btn-outline-secondary me-2 btn-md-square rounded-circle"
                  href="#"
                  ><i class="fab fa-youtube"></i
                ></a>
                <a
                  class="btn btn-outline-secondary btn-md-square rounded-circle"
                  href="#"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
        <div class="row g-5">
          <div class="col-lg-4 col-md-6">
            <div class="footer-item">
              <h4 class="text-light mb-3">Why People Like us!</h4>
              <p class="mb-4">
                typesetting, remaining essentially unchanged. It was popularised
                in the 1960s with the like Aldus PageMaker including of Lorem
                Ipsum.
              </p>
              <a
                href="#"
                class="btn border-secondary py-2 px-4 rounded-pill text-primary"
                >Read More</a
              >
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="d-flex flex-column text-start footer-item">
              <h4 class="text-light mb-3">Info</h4>
              <a class="text-secondary mb-2" href="#">About</a>
              <a class="text-secondary mb-2" href="#">Privacy Policy</a>
              <a class="text-secondary mb-2" href="#">Terms & Condition</a>
              <a class="text-secondary" href="#">Support</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer End -->
  </body
